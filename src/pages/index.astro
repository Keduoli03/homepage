---
import App from "$layouts/App.astro";
import { Icon } from "astro-icon/components";
import LogoFlow from "$components/LogoFlow.astro";
import Projects from "$components/Projects.astro";
import LandMark from "$components/LandMark.astro";
import RecentPosts from "$components/RecentPosts.astro";
import Footer from "$layouts/Footer.astro";
import ProfileInfo from "$components/ProfileInfo.astro";
import Hobbies from "$components/Hobbies.astro";
import { getEntry, render } from "astro:content";
const props = Astro.props;

const logos = [
	{ name: "Java", logo: "devicon:java" },
	{ name: "Astro", logo: "devicon:astro" },
	{ name: "Vue", logo: "devicon:vuejs" },
	{ name: "Node.js", logo: "logos:nodejs-icon" },
	{ name: "Python", logo: "devicon:python" },
	{ name: "TypeScript", logo: "devicon:typescript" },
	{ name: "Nginx", logo: "logos:nginx" },
	{ name: "MySQL", logo: "devicon:mysql" },
	{ name: "Vercel", logo: "devicon:vercel" },
	{ name: "Git", logo: "devicon:git" },
	{ name: "Arch Linux", logo: "devicon:archlinux" },
];

const projects = [
	{
		name: "Personal Page",
		description: "基于友人仓库，二改出的个人主页",
		link: "https://github.com/Keduoli03/homepage",
		tags: ["Astro", "Page"]
	},
	{
		name: "Blog",
		description: "独立开发ing的个人博客",
		link: "https://github.com/Keduoli03/Lanke",
		tags: ["Astro", "Blog"]
	},
	{
		name: "ENav",
		description: "基于Astro和WebStack-hugo开发的导航网站",
		link: "https://github.com/Keduoli03/Astro_Enav",
		tags: ["Astro", "Nav"]
	},

];

const timeline = [
  { date: "2022-09", title: "升入大学", description: "正式开始接触编程" },
  { date: "2024-05", title: "搭建个人博客", description: "初次体验写博客的感觉。", link: "https://blog.blueke.top" },
  { date: "2025-01", title: "探索Astro", description: "学习 Astro 框架，搭建个人博客。"},
  { date: "2025-11", title: "大四离校", description: "准备踏入社会。"},
];
const about = await getEntry("information", "about");
const aboutRendered = about ? await render(about) : null;
const hobbies = (about && Array.isArray(about.data.hobbies)) ? about.data.hobbies : ["Minecraft", "摄影", "数码"];
---


<App title="Lanke">
	<div class="flex flex-col gap-14">
		<div class="relative flex flex-col xl:flex-row items-center xl:items-start gap-6 xl:gap-8 mt-6 xl:mt-12">
			<div class="w-full">
				<article class="flex flex-col items-center md:items-start gap-3 select-text mt-2 xl:mt-4 text-center md:text-left xl:pr-72">
					<p class="text-2xl sm:text-3xl lg:text-4xl">Hi, I'm <span class="font-semibold">Lanke</span>！</p>
					<p class="text-base sm:text-lg lg:text-2xl">一个正在互联网上探索的人。</p>
				</article>
				<div class="mt-8 md:mt-10 xl:mt-14 flex items-center gap-6 w-fit text-size-2xl mx-auto md:mx-0">
					<a href="https://blog.blueke.top" target="_blank" rel="noopener noreferrer" title="博客" aria-label="博客"><Icon name="ri:book-line" /></a>
					<a href="https://github.com/Keduoli03" target="_blank" rel="noopener noreferrer" title="GitHub" aria-label="GitHub"><Icon name="ri:github-line" /></a>
					<a href="https://blog.blueke.top" target="_blank" rel="noopener noreferrer" title="QQ" aria-label="QQ"><Icon name="ri:qq-line" class="qq-icon"/></a>
					<a href="mailto:2801429414@qq.com" target="_blank" rel="noopener noreferrer" title="邮箱" aria-label="邮箱"><Icon name="ri:at-line" /></a>
				</div>
				
			</div>

			<div class="order-first xl:order-none w-full xl:w-auto flex mx-a flex-col gap-5 items-center xl:absolute xl:right-0 xl:top-1/2 xl:-translate-y-1/2">
				<figure class="w-28 h-28 sm:w-36 sm:h-36 xl:w-50 xl:h-50 rd-1/2 overflow-hidden">
					<img src="https://gcore.jsdelivr.net/gh/Keduoli03/My_img@img/img/头像.jpg" alt="Avatar" draggable="false" class="inline-block w-full h-full object-cover object-c" />
				</figure>
				<span class="font-bold text-lg sm:text-xl font-serif tracking-widest">蓝珂</span>
			</div>
		</div>

		

		<div class="mt-6">
			<LogoFlow items={logos} />
		</div>
		
		<div class="flex flex-col gap-6">
			<div class="flex flex-col gap-4">
				<h4 class="text-xl font-bold">信息</h4>
				<ProfileInfo year="03" major="软件工程" mbti="INFP-T" location="河南" />
			</div>
			<Hobbies items={hobbies} />
		</div>
		


		{aboutRendered && (
			<section class="max-w-3xl mx-auto md:mx-0 select-text prose">
				<h2 class="text-xl sm:text-2xl font-semibold mb-3">{about?.data.title}</h2>
				<aboutRendered.Content />
			</section>
		)}
		<Projects projects={projects} />

		<div class="mt-8 grid w-full grid-cols-1 md:grid-cols-2 gap-y-6 gap-x-8 md:gap-x-10 items-start">
		  <div class="min-w-0 w-full">
		    <RecentPosts feedUrl="https://blog.blueke.top/rss.xml" limit={4} />
		  </div>
		  <div class="min-w-0 w-full">
		    <LandMark items={timeline} />
		  </div>
		</div>
	</div>
	<Footer></Footer>
</App>
	
